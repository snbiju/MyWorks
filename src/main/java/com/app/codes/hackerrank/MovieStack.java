package com.app.codes.hackerrank;

/*

Your task is to create an application for a client that has a big movie collection. He organises the collection in a big stack. When he wants to watch a movie he locates it in the stack and removes it. After he is finished watching the movie, he places it back at the top. Since the stack of movies is big, he will need to know the position of each movie.

He likes to know for each movie how many other movies are above it in the stack and, with this information he can calculate the position in the stack. Each movie is identified by a number printed on the box.

Implement a program that will keep track of the position for each movie. Each time he removes a movie from the stack, your program should print the number of movies that were placed above it before it was removed. After the movie is watched it is placed at the top of the stack.

INPUT
int        n the number of movies in the stack

int        m the number of movies he wants to watch

int[]        movies  an array with m integers a1 . . . am (1 <= ai <= n) representing the identification numbers of movies that he wants to watch

We assume assume that the initial stack contains the movies with numbers 1, 2, . . . , n in increasing order, where the movie with label 1 is at the top of the stack.

OUTPUT
string        movies_array
                     ^^ array with m integers separated by comma, where the i-th integer gives the number of movie boxes above the box with label ai, immediately before this box is removed from the stack.

Note: After each find, the movie box is placed at the top of the stack.

CONSTRAINTS
1 <= n, m <= 100 000

EXAMPLE 1

Input:
int n: 3
int m: 3
int[] movies: 3,1,1
Output:
Expected:
2,1,0


Example 2
Input:
int n: 5
int m: 3
int[] movies: 4,4,5
Output:
Expected:
3,0,4


Input:
int n: 53
int m: 464
int[] movies: 29,47,31,44,28,39,17,19,12,18,51,53,15,49,49,36,9,42,17,27,1,14,5,16,43,46,4,48,41,20,22,16,45,32,38,20,17,34,17,28,51,15,6,44,10,1,5,51,42,21,24,21,13,7,15,35,32,18,29,19,16,30,13,8,8,50,6,24,9,1,30,6,15,15,28,4,15,32,1,36,32,3,35,44,41,50,25,19,14,33,37,9,9,28,48,48,4,32,50,12,32,26,50,47,40,24,29,34,3,8,48,34,10,29,3,29,25,28,48,18,39,10,5,26,38,52,20,41,30,16,31,40,20,27,12,7,51,40,19,53,47,45,33,35,20,35,43,24,41,16,20,5,25,24,30,41,22,49,7,30,11,38,48,31,11,7,16,8,46,13,39,19,4,50,32,2,11,53,25,51,15,44,35,19,46,11,6,46,39,45,22,28,29,17,37,18,2,52,5,26,43,43,44,25,40,2,27,50,1,30,26,48,53,39,13,45,50,50,38,14,41,38,41,48,33,25,13,34,2,49,7,24,17,29,48,3,9,21,31,10,51,36,4,29,53,48,20,28,44,36,41,32,21,29,26,32,32,17,13,33,12,51,3,29,26,30,10,35,50,20,23,26,34,5,1,33,52,53,8,42,35,27,52,34,2,4,13,12,20,4,24,11,1,5,18,5,34,6,18,31,25,19,35,37,23,15,49,53,46,35,21,6,8,19,40,42,22,31,53,21,34,23,31,13,28,48,49,8,53,14,17,4,32,31,19,34,45,14,33,16,48,32,21,3,51,39,23,51,16,22,18,28,45,27,19,51,21,15,5,53,28,1,35,38,31,53,18,1,46,30,16,19,8,36,21,37,22,22,14,16,44,31,44,14,5,9,11,4,2,47,35,29,47,16,46,3,48,10,3,40,18,50,5,5,33,5,20,33,26,33,27,48,11,49,8,47,37,18,50,38,12,11,46,37,26,38,40,52,26,42,17,44,39,22,27,50,5,46,8,9,5,34,4,47,9,11,40,45,8,15,29,19,4,21,2,30,5,41,7,31,9,24,53,26
Output:
Expected:
28,46,31,44,31,40,22,24,19,24,50,52,25,50,0,41,23,46,10,37,18,29,23,30,47,49,26,50,49,35,37,7,50,44,49,5,15,47,1,28,24,23,35,30,38,21,20,6,23,41,43,1,42,40,11,48,18,33,39,36,23,47,9,43,0,51,20,14,35,19,7,4,14,0,22,31,2,15,6,36,2,44,18,25,32,14,47,19,37,49,50,18,0,16,37,0,17,14,10,43,2,50,3,47,51,24,28,37,21,27,12,3,36,5,5,1,20,15,6,31,47,7,37,15,40,52,41,27,34,36,49,20,5,47,25,39,42,5,33,49,27,45,34,37,11,1,48,31,17,16,5,21,27,5,19,6,47,49,18,4,51,24,29,24,3,5,13,34,50,47,31,24,39,38,39,51,11,28,21,30,47,45,28,11,14,8,48,2,14,31,25,40,41,51,46,43,18,41,34,42,37,0,18,21,40,7,42,26,49,36,9,35,28,21,31,22,8,0,36,48,39,2,1,8,42,16,8,47,16,41,40,42,27,28,10,47,48,50,45,49,42,50,45,9,25,10,48,38,33,7,23,46,13,9,30,3,0,17,23,25,50,16,20,8,8,32,19,46,31,18,52,6,29,39,36,14,40,25,49,52,12,40,5,9,35,30,22,22,16,3,33,48,15,16,44,1,10,48,3,35,39,49,17,47,24,50,42,24,50,6,36,12,26,10,48,27,50,15,10,8,17,14,4,25,42,43,16,13,9,47,40,27,41,10,17,13,48,7,35,51,13,8,17,42,43,50,20,2,7,21,30,21,13,39,16,7,11,29,32,22,8,33,30,50,23,5,13,5,32,44,17,14,28,47,15,35,20,0,27,7,48,14,1,3,18,49,39,32,43,52,22,49,2,11,19,31,33,49,2,41,25,49,15,0,37,1,46,2,49,1,35,10,18,42,28,16,26,12,12,33,48,8,18,6,13,5,16,49,3,46,45,29,43,32,19,14,22,13,18,30,3,45,31,21,4,19,17,43,8,42,31,38,9,37,35,39,14,50,51,40,15,51,44,28
Actual:
24,6,22,9,25,14,36,34,41,35,2,0,38,4,15,17,44,11,36,26,52,39,48,37,10,7,49,5,12,33,31,43,8,21,15,44,10,19,15,25,12,39,47,11,43,52,49,24,22,32,29,46,40,46,23,18,38,37,24,35,7,23,47,45,50,3,50,45,44,21,45,20,11,14,28,50,0,18,19,25,15,50,43,30,29,43,28,36,42,20,16,35,18,22,27,37,31,2,14,41,14,27,10,7,13,14,39,37,51,0,0,37,48,28,21,5,49,16,12,33,17,36,20,49,34,1,5,32,7,23,23,49,41,32,43,50,6,20,19,11,47,31,48,18,5,37,27,24,27,36,11,37,20,31,34,17,43,0,39,19,42,40,6,49,51,18,16,27,26,9,47,33,17,3,2,51,3,49,27,42,2,25,1,24,50,11,4,14,31,45,47,15,1,1,48,31,52,49,21,15,48,37,45,21,5,18,47,38,6,4,42,29,28,14,47,31,26,8,24,37,6,36,39,35,34,21,31,3,7,49,5,5,51,41,8,5,0,1,24,7,30,36,39,28,28,10,5,40,18,50,1,39,50,9,9,46,3,27,8,42,25,42,47,9,30,36,49,28,0,48,30,8,47,34,49,25,41,25,34,23,46,42,40,29,16,45,23,50,18,30,42,8,36,39,43,16,9,48,44,45,16,11,12,46,52,47,41,25,2,17,13,48,49,49,40,52,25,35,24,36,10,24,15,22,38,10,42,26,10,48,17,3,0,4,10,17,22,47,14,13,43,41,8,20,16,21,14,43,51,50,3,42,48,40,17,2,17,50,1,9,21,15,6,2,10,22,30,33,50,32,7,16,13,7,11,47,21,20,7,17,33,23,48,27,32,48,48,27,35,27,30,8,52,7,32,42,13,19,31,48,13,31,18,15,35,0,16,37,6,2,39,33,39,16,28,2,35,25,49,50,22,18,19,26,49,33,41,5,13,27,40,1,50,0,35,12,1,18,28,49,22,13,32,16,30,8,16,13,18,29,49,14,31,15,43,44,3,23,40,14,4,33,5,3
[FAIL] Test Case 3
[FAIL] Test Case 4
Execution time:
Expected: 0.1
Actual: 0.08
Input:
int n: 3
int m: 3
int[] movies: 3,1,1
Output:
Expected:
2,1,0
Actual:
0,2,2
[FAIL] Test Case 5
Execution time:
Expected: 0.1
Actual: 0.1
Input:
int n: 5
int m: 3
int[] movies: 4,4,5
Output:
Expected:
3,0,4
Actual:
1,1,0


 */

public class MovieStack {
    public static void main(String[] args) {
      //  Scanner scanner = new Scanner(System.in);

        // Read input
     //   int n = scanner.nextInt(); // Number of movies in the stack
       // int m = scanner.nextInt(); // Number of movies to watch
       // int[] movies = new int[m];
        int n= 84;
        int m= 887;

        int[] movies= {10,20,30,32,11,73,58,74,3,20,63,68,84,71,25,79,17,17,60,57,76,10,3,27,27,56,44,20,6,43,67,55,18,52,2,29,80,59,58,82,34,36,21,74,63,45,24,79,18,83,8,9,9,10,75,75,65,74,10,70,33,76,81,6,83,82,74,78,13,4,31,46,39,52,75,57,52,15,8,25,13,15,33,61,64,24,51,44,13,61,69,1,8,65,47,7,19,36,40,71,39,71,72,34,78,63,46,1,77,9,26,45,63,14,22,42,77,72,41,46,4,26,46,12,46,48,58,20,40,53,6,34,79,78,23,72,12,69,29,4,33,54,4,12,67,25,53,60,53,10,61,12,75,62,63,76,26,36,12,65,45,57,14,39,50,77,27,17,61,11,60,9,64,64,60,2,4,29,17,12,78,77,24,24,55,2,15,80,78,26,16,38,39,69,76,4,61,58,21,77,68,80,42,3,15,17,5,59,1,61,70,34,54,49,57,64,7,72,15,84,53,30,77,7,54,24,51,71,82,27,19,21,62,16,64,77,33,24,51,73,84,76,23,9,41,35,72,47,22,2,2,31,71,78,37,81,17,43,67,54,69,41,31,3,57,10,79,45,73,1,33,72,76,11,81,72,46,24,34,23,26,75,53,52,68,6,48,41,4,70,50,73,27,80,75,39,45,25,83,33,25,31,61,56,82,13,44,43,36,33,65,17,64,34,69,3,79,72,43,82,14,49,26,80,84,56,34,45,80,32,33,60,18,49,72,15,61,71,13,53,59,78,69,38,67,9,41,61,81,39,14,10,3,80,5,3,51,78,3,3,25,75,18,82,40,5,13,56,75,65,24,6,58,9,43,80,17,83,12,53,38,26,18,80,21,62,38,27,55,40,29,35,71,3,33,26,7,1,37,38,65,61,43,79,25,1,74,81,40,2,50,33,67,67,68,43,45,22,69,55,61,54,6,47,56,38,28,18,78,65,55,58,81,53,8,21,10,82,17,49,39,22,37,21,45,20,63,45,41,3,15,58,56,20,60,27,13,4,45,6,24,55,20,60,24,27,80,33,64,52,37,18,74,73,78,74,48,56,34,5,59,48,18,70,24,77,13,36,36,13,82,59,67,57,34,46,39,69,78,19,37,70,76,66,58,70,55,22,81,4,66,55,7,83,41,30,75,9,22,27,21,59,41,43,31,31,5,69,55,38,43,47,24,35,28,37,60,38,14,56,81,35,67,44,33,63,73,64,27,50,46,3,24,42,45,10,28,5,35,83,83,77,45,22,67,29,14,42,22,68,54,19,18,76,62,51,54,6,70,80,56,31,82,35,28,82,1,56,3,35,54,1,67,54,62,50,82,31,47,20,14,56,78,32,47,11,38,56,16,23,7,27,9,44,18,76,42,18,47,84,8,56,40,74,66,57,79,63,3,42,38,17,53,71,4,16,81,41,27,53,19,34,79,67,77,52,58,74,69,61,73,76,72,68,22,53,40,16,72,83,57,65,55,66,52,58,81,4,54,63,56,28,12,7,50,5,58,63,34,83,39,23,30,27,46,51,35,2,67,22,84,79,3,10,60,54,67,12,57,76,75,69,19,42,75,24,2,4,2,36,2,81,58,32,63,19,38,13,60,60,35,15,55,37,24,70,46,46,38,58,37,68,42,11,25,72,34,27,76,36,62,33,32,75,20,10,49,58,62,25,33,12,79,43,4,19,69,5,20,22,63,57,5,60,67,29,4,57,11,35,48,72,67,79,62,3,44,67,16,21,7,4,73,41,47,76,15,31,81,35,8,15,7,52,30,29,80,33,41,7,67,4,34,6,82,52,8,81,34,23,18,80,26,6,36,28,37,51,14,73,1,61,43,47,28,73,31,24,61,72,70,84,75,19,5,29,26,52,25,59,30,82,54,11,43,6,79,80,12,8,68,12,69,27,14,52,55,44,75,71,31,16,70,22,75,30,50,16,81,30,75,66,28,84,77,70,5,71,65,16,34,5,67,58,71,80,26};

      /*  for (int i = 0; i < m; i++) {
            movies[i] = scanner.nextInt(); // Movie identification numbers
        }*/

        int n1=5;
        int m1=3;
        int[] mov={4,4,5};

        int n2=3;
        int m2=3;
        int[] mov1={3,1,1};




        // Process and print output
      //  String result = findMovies(n, m, movies);
        System.out.println("Expected: 3,0,4");
        String result = findMovies(n1, m1, mov); //3,0,4

       System.out.println(result);

        System.out.println("Expected: 2,1,0");
        System.out.println(findMovies(n2,m2,mov1));//2,1,0
    }

    public static String findMovies(int n, int m, int[] movies) {
        int[] positions = new int[n + 1]; // Array to store the positions of movies
        int[] result = new int[m];

        for (int i = 1; i <= n; i++) {
            positions[i] = n - i; // Initial position for each movie
        }

        for (int i = 0; i < m; i++) {
            int movie = movies[i];
            result[i] = positions[movie];
            // Update positions
            for (int j = 1; j <= n; j++) {
                if (j != movie) {
                    positions[j]++;
                } else {
                    positions[j] = 0;
                }
            }
        }
        StringBuilder builder=new StringBuilder();
        for (int i=0;i<result.length;i++){
            builder.append(i+",");

        }

        return builder.toString();
    }

}
